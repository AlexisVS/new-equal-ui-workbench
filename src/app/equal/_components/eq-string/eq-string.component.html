<div
  class="wrapper"
  [style.cursor]="mode === 'edit' && !disabled ? 'pointer' : 'default'"
>
  <div class="eq-string"
       (click)="onEdit()"
       #eqString
  >
    <mat-form-field
      #matFormField
      [class.eq-string--view]="mode === 'view' || !is_active"
      [class.eq-string--no-underline]="mode === 'view'"
    >
      <mat-label *ngIf="title && mode === 'edit'">{{ title }}</mat-label>
      <input
        #input
        matInput
        class="eq-string__input"
        [style.pointer-events]="!isEditable() ? 'none' : 'auto'"
        [class]="'eq-string__input--' + size"
        [class.eq-string__input--view]="mode === 'view' || (mode === 'edit' && !disabled)"
        [disabled]="disabled"
        [formControl]="value"
        [placeholder]="mode === 'edit' ? placeholder: ''"
        (blur)="onBlur($event)"
      />
      <button
        class="eq-string__clear"
        *ngIf="isEditable()"
        mat-icon-button
        matSuffix
        (click)="onClear($event)"
      >
        <mat-icon>close</mat-icon>
      </button>
      <mat-hint class="eq-string__hint" #matHint *ngIf="hint && mode === 'edit'">{{ hint }}</mat-hint>
      <mat-error *ngIf="mode === 'edit' && value.invalid">{{ getErrorMessage() }}</mat-error>
    </mat-form-field>
    <button
      [disabled]="value.invalid"
      [class.eq-string__action__check--invalid]="value.invalid"
      [style.pointer-events]="value.invalid ? 'none' : 'auto'"
      mat-icon-button
      *ngIf="isEditable()"
      (click)="onSave($event)"
      class="eq-string__action eq-string__action__check"
    >
      <mat-icon>check_small</mat-icon>
    </button>
    <button
      mat-icon-button
      *ngIf="isEditable()"
      (click)="onCancel($event)"
      class="eq-string__action eq-string__action__cancel"
    >
      <mat-icon>cancel</mat-icon>
    </button>
  </div>
</div>
