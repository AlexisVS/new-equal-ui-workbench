
    <div #eqString
        class="eq-string"
        (click)="activate()"
        [class.cursor]="mode == 'edit' && !disabled"
    >
        <span class="text" [class]="size" *ngIf="mode == 'view' && !is_null">
            <span>{{formControl.value}}</span>
        </span>
        <mat-form-field *ngIf="mode == 'edit'" [class.disabled]="disabled">
            <mat-label *ngIf="title && mode == 'edit'">{{ title }}</mat-label>
            <input #input
                matInput
                [class]="size"
                [class.is_null]="is_null"
                [disabled]="disabled"
                [formControl]="formControl"
                [placeholder]="mode === 'edit' ? placeholder: ''"
                (blur)="onBlur($event)"
            />
            <button
                *ngIf="is_active && formControl.value.length && !is_null"
                mat-icon-button
                matSuffix
                (click)="onClear($event)"
            >
                <mat-icon>close</mat-icon>
            </button>
            <button
                *ngIf="nullable && (is_active && !formControl.value.length && !is_null)"
                color="accent"
                mat-icon-button
                matSuffix
                (click)="toggleIsNull(true)"
            >
                <mat-icon>toggle_off</mat-icon>
            </button>
            <button
                *ngIf="nullable && (is_active && is_null)"
                mat-icon-button
                matSuffix
                (click)="toggleIsNull(false)"
            >
                <mat-icon>toggle_on</mat-icon>
            </button>


            <mat-hint *ngIf="!formControl.invalid" [title]="hint">{{ hint }}</mat-hint>
            <mat-error *ngIf="formControl.invalid">{{ getErrorMessage() }}</mat-error>
        </mat-form-field>
        <button
            mat-icon-button
            color="primary"
            [disabled]="formControl.invalid"
            *ngIf="is_active"
            (click)="onSave($event)"
        >
            <mat-icon>check_small</mat-icon>
        </button>
        <button
            mat-icon-button
            color="accent"
            *ngIf="is_active"
            (click)="onCancel($event)"
        >
            <mat-icon>cancel</mat-icon>
        </button>
    </div>
